angular.module("jsPassword").controller("EntryColumn",["$rootScope","$scope","EntriesCollection","$location","$stateParams","$state",function(t,e,n,r,a,o){e.entryId=a.entryId||0,e.validate=function(){return!0},e.cancel=function(){r.path("/entry/"+e.entryId+"/show")},e.save=function(){e.validate()&&(o.current.data&&o.current.data["new"]?n["new"]({id:parseInt(e.entryId),data:e.entry}):n.update(parseInt(e.entryId),e.entry),r.path("/entry/"+e.entryId+"/show"),t.$broadcast("EntriesCollection::changed"))},e.selectEntry=function(t){e.entry=JSON.parse(JSON.stringify(n.find(t)))},o.current.data&&o.current.data["new"]?e.entry=n.prepareNew().data:n.size()>0?e.selectEntry(e.entryId):(console.log(n.size()),r.path("/entry/empty")),e.$on("EntriesCollection::changed",function(){}),setTimeout(componentHandler.upgradeDom,1)}]);